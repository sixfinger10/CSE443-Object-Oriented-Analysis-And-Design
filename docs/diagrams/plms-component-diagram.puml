@startuml
skinparam componentStyle uml2
skinparam component {
  BackgroundColor White
  BorderColor Black
  ArrowColor Black
}

package "Client Layer" {
    [Frontend Application] as Client
}

package "PLMS Backend System" {

    port "REST API" as Port1

    component "API Gateway / Controllers" as Controllers {
       [Auth Controller]
       [Dashboard Controller]
       [Library Controller]
       [Item Controllers]
    }

    component "Service Layer" as Services {
       [Auth Service]
       [Import/Export Service]
       [Email Service]
       [Media Services (Book, Movie, etc.)]
    }

    component "Data Access Layer" as DAL {
       [JPA Repositories]
    }

    component "Security" {
       [JWT / Security Config]
    }
}

database "PostgreSQL (Supabase)" as DB

package "External Integrations" {
    cloud "Google API" {
        [Google Books]
    }
    cloud "OMDb API" {
        [Movies & Series]
    }
    cloud "Last.fm API" {
        [Music Info]
    }
    cloud "SMTP Server" {
        [Gmail]
    }
}

' İç Bağlantılar
Client --> Port1 : HTTPS / JSON
Port1 --> Controllers
Controllers --> Services
Services --> DAL
DAL --> DB : JDBC / Hibernate

' Servis Detayları
[Auth Controller] --> [Auth Service]
[Auth Service] --> [Email Service]
[Library Controller] --> [Import/Export Service]
[Item Controllers] --> [Media Services]

' Dış Bağlantılar
[Media Services] ..> [Google Books] : Fetch Book Metadata
[Media Services] ..> [Movies & Series] : Fetch IMDb Info
[Media Services] ..> [Music Info] : Fetch Album Art
[Email Service] ..> [Gmail] : Send Reset Code

[Import/Export Service] ..> Client : JSON/CSV Download

@enduml